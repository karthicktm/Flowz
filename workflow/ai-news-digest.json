{
  "version": "1.0",
  "name": "AI News Digest",
  "description": "Fetch trending AI news and display top 5 articles in a table with title, description, and link",
  "trigger": {
    "type": "manual",
    "config": {}
  },
  "config": {
    "steps": [
      {
        "id": "fetchNews",
        "module": "external-apis.rapidapi-newsapi.getTrendingNews",
        "inputs": {
          "params": {
            "apiKey": "{{credential.rapidapi_api_key}}",
            "topic": "ai",
            "limit": 5
          }
        },
        "outputAs": "newsArticles"
      },
      {
        "id": "formatForTable",
        "module": "utilities.javascript.execute",
        "inputs": {
          "options": {
            "code": "return articles.slice(0, 5).map(a => ({ title: a.title, description: a.excerpt || '', url: a.url }));",
            "context": {
              "articles": "{{newsArticles}}"
            }
          }
        },
        "outputAs": "tableData"
      }
    ],
    "returnValue": "{{tableData}}",
    "outputDisplay": {
      "type": "table",
      "columns": [
        {
          "key": "title",
          "label": "Title",
          "type": "text"
        },
        {
          "key": "description",
          "label": "Description",
          "type": "text"
        },
        {
          "key": "url",
          "label": "Article Link",
          "type": "link"
        }
      ]
    }
  },
  "metadata": {
    "requiresCredentials": ["rapidapi"]
  }
}
