{
  "version": "1.0",
  "name": "Math Operations Chain",
  "description": "Chain multiple array math operations together (sum, average, min, max, median)",
  "trigger": {
    "type": "manual",
    "config": {}
  },
  "config": {
    "steps": [
      {
        "id": "generateNumbers",
        "module": "utilities.array-utils.range",
        "inputs": {
          "start": 10,
          "end": 21,
          "step": 1
        },
        "outputAs": "numbers"
      },
      {
        "id": "calculateSum",
        "module": "utilities.array-utils.sum",
        "inputs": {
          "arr": "{{numbers}}"
        },
        "outputAs": "totalSum"
      },
      {
        "id": "calculateAverage",
        "module": "utilities.array-utils.average",
        "inputs": {
          "arr": "{{numbers}}"
        },
        "outputAs": "avg"
      },
      {
        "id": "calculateMin",
        "module": "utilities.array-utils.min",
        "inputs": {
          "arr": "{{numbers}}"
        },
        "outputAs": "minValue"
      },
      {
        "id": "calculateMax",
        "module": "utilities.array-utils.max",
        "inputs": {
          "arr": "{{numbers}}"
        },
        "outputAs": "maxValue"
      },
      {
        "id": "calculateMedian",
        "module": "utilities.array-utils.median",
        "inputs": {
          "arr": "{{numbers}}"
        },
        "outputAs": "medianValue"
      },
      {
        "id": "formatResults",
        "module": "utilities.javascript.execute",
        "inputs": {
          "options": {
            "code": "return `Math Results for [${nums.join(', ')}]:\n\nSum: ${sum}\nAverage: ${avg}\nMin: ${min}\nMax: ${max}\nMedian: ${median}\nCount: ${nums.length}`;",
            "context": {
              "nums": "{{numbers}}",
              "sum": "{{totalSum}}",
              "avg": "{{avg}}",
              "min": "{{minValue}}",
              "max": "{{maxValue}}",
              "median": "{{medianValue}}"
            }
          }
        },
        "outputAs": "report"
      }
    ],
    "returnValue": "{{report}}",
    "outputDisplay": {
      "type": "text"
    }
  },
  "metadata": {
    "requiresCredentials": []
  }
}
