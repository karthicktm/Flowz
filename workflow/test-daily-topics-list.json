{
  "version": "1.0",
  "name": "Daily Tech Topics",
  "description": "Generate 5 tech topics daily at 9am",
  "trigger": {
    "type": "cron",
    "config": {
      "schedule": "0 9 * * *",
      "timezone": "America/New_York"
    }
  },
  "config": {
    "steps": [
      {
        "id": "generate",
        "module": "ai.ai-sdk.generateText",
        "inputs": {
          "options": {
            "prompt": "Generate exactly 5 trending tech topics for today. Return only the topics, one per line, no numbering or extra text.",
            "model": "gpt-4o-mini",
            "provider": "openai"
          }
        },
        "outputAs": "aiTopics"
      },
      {
        "id": "splitToArray",
        "module": "utilities.javascript.execute",
        "inputs": {
          "options": {
            "code": "return text.split('\\n').filter(line => line.trim().length > 0).slice(0, 5);",
            "context": {
              "text": "{{aiTopics.content}}"
            }
          }
        },
        "outputAs": "topicsList"
      }
    ],
    "returnValue": "{{topicsList}}",
    "outputDisplay": {
      "type": "list"
    }
  },
  "metadata": {
    "requiresCredentials": ["openai"]
  }
}
